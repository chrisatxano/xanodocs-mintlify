---
title: "Branching & Merging"
icon: "code-branch"
---

A Branch is a copy of a workspace's business logic (APIs, Functions, Addons, and Tasks). They are most useful for testing and developing new versions of your app without affecting your customers' primary experience.

You can create new Branches and select which Branch to make a copy of, choose which Branch to make edits to, and select which Branch you want to be live for your API.

**Branches can also [merge](/team-collaboration/branching-and-merging#merging) from a source Branch to a destination Branch to make managing development, test, and live environments as seamless as ever**.

<Frame caption="Branches tutorial before merge capabilities were introduced.">
<iframe width="1000" height="500" src="https://www.youtube.com/embed/3qwu_ANWHl4" title="API Branches" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</Frame>

Your initial Branch will be considered v1 of your business logic. Below your workspace name, you will be able to identify which Branch you are currently editing.

<Frame caption="Your root branch is considered v1, and you will start with v1 by default.">
  <img src="/images/49e7c08c-image.jpeg" />
</Frame>

## Create a New Branch

Select the Branch identifier located underneath the workspace name.

<Frame caption="">
  <img src="/images/c892bab5-image.jpeg" />
</Frame>

This will allow you to see and change which Branch you are currently editing and which is live for your users, and allow you to add a new Branch.

<Frame caption="">
  <img src="/images/091a61a6-image.jpeg" />
</Frame>

When you select Add new Branch you will be able to choose a source Branch to make a copy from, the name of your new Branch, set a color, and add a description.

<Frame caption="">
  <img src="/images/9489d607-image.jpeg" />
</Frame>

The color you select will be reflected in different elements of the Xano UI to represent and easily inform which branch you are currently working on.

Adding a new Branch makes a copy of the source Branch at that given time. So for example, if you create v2 from source Branch v1, you will have all the same business logic (APIs, Functions, Addons, and Tasks).

## Change which Branch to Edit and Set Live

The Branch you are currently editing will be identified underneath the workspace name on the left menu column and in the top banner.

<Frame caption="">
  <img src="/images/f24b47e9-image.jpeg" />
</Frame>

To change which branch you are editing, click on the Branch name to open up the menu of the different Branches in your workspace.

<Frame caption="">
  <img src="/images/0ac806a3-image.jpeg" />
</Frame>

Select a Branch you wish to edit or set live and you will have the option to do so.

<Frame caption="Edit or Set Live a Branch.">
  <img src="/images/3dc7b9b4-image.jpeg" />
</Frame>

When a Branch is set live, it is the Branch or version of your API endpoints and business logic that will be live for your users.

If you wish to call an API endpoint from a Branch that is not live, you can do so by adding the branch name after the canonical, for example:

If the live branch is:

```txt
https://xb17-511e-40b9.xano.io/api:b4afb8/tutorial
```

You can access a different branch by adding :branch name after the canonical:

```txt
https://xb17-511e-40b9.xano.io/api:b4afb8:v2/tutorial
```

You can also use a [Set Http Header](/the-function-stack/functions/utility-functions#http-header) function, to set the X-Branch header followed by the Branch name. For example:

```
X-Branch: v2
```

Setting this on an API endpoint would force that endpoint to call the v2 Branch version of the endpoint.

### Know if the Branch you're editing is Live or not

While making changes in your workspace, you can differentiate if your Branch is live or not with the banner at the top of the UI all across Xano.

When editing a branch that isn't live, you will be presented with a banner such as the one below.

<Frame caption="">
  <img src="/images/6b9cd6cd-image.jpeg" />
</Frame>

When editing a Branch that is not live, the Swagger documentation and API Endpoint URL buttons will provide the version of that Branch and not the live Branch.

To get the URL of the live Branch either remove the :branch name after the canonical or go to the live Branch.

## Compare Differences (Compare Branches)

Comparing differences allows you to see the differences between a source branch and a destination branch. Comparing differences gives you full context into what's going to change before you decide to [merge branches](/team-collaboration/branching-and-merging#merging).

### How to compare branches

To compare branches, select **Compare Branches** from the branches menu.

<Frame caption="Compare Branches option.">
  <img src="/images/45b5ba17-image.jpeg" />
</Frame>

#### Step 1 - Select the branch to compare from

First, select the branch to compare from. This is considered the source branch.

<Frame caption='In this example, we will choose the "dev" branch to compare from.'>
  <img src="/images/48471be6-image.jpeg" />
</Frame>

#### Step 2 - Select the destination branch to compare to.

Next, select the destination branch to compare to. If you were to merge, this is the branch to merge into.

<Info>
Comparing mode will not commit to a merge, it's an opportunity to see and compare differences between the branches. You will only merge by selecting the merge option on the branches menu.

</Info>

<Frame caption='In this example, we will compare to the "prod" branch.'>
  <img src="/images/c4030f1b-image.jpeg" />
</Frame>

#### Compare Branches

Lastly, the difference comparison opens showing everything that could merge into the destination branch and highlighting if anything is new or has changed.

<Frame caption="Comparing branches.">
  <img src="/images/4f8458e4-image.jpeg" />
</Frame>

Furthermore, selecting a new or changed item allows you to see a snapshot of the item for context into exactly what the new item contains or what has changed compared to the existing item.

<Frame caption="See a snapshot of what's new or what changes were made.">
  <img src="/images/5de2df3a-image.jpeg" />
</Frame>

#### Changes

Changes are accompanied by a number in parentheses. This number identifies how many changes there are compared to the existing item in the destination branch.

<Frame caption="6 changes made to POST /stuff.">
  <img src="/images/a0c3c830-image.jpeg" />
</Frame>

By selecting changes next to the item, a snapshot opens showing exactly what the differences and changes are.

<Frame caption="The changes made to POST /stuff.">
  <img src="/images/71100e1a-image.jpeg" />
</Frame>

In the above screenshot we can see the six changes:

1. created\_at input deleted.

2. name input edited.

3. category input edited.

4. value input edited.

5. API Request added.

6. Create Variable added.

#### New

You can also see a snapshot of a new item. Everything in the item will be considered as added but it's insightful context for you to understand what you may be merging into another branch.

<Frame caption="">
  <img src="/images/5b0d7643-image.jpeg" />
</Frame>

## Merging

<Frame>
<iframe width="1000" height="500" src="https://www.youtube.com/embed/-sqCQBN0z_Q" title="Branch Merging | Feature Announcement" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</Frame>

Merging Branches allows for seamless development management of different environments. It allows you to update a destination Branch with changes and updates created from a source Branch. Merging will include changes to published objects such as APIs, Functions, Addons, and Tasks, and newly created ones.

For example, your live Branch is v1. You are editing v2, which has some new API endpoints for a new feature you are rolling out. During the development phase of v2, you had to modify an API endpoint in v1. When you're ready to merge v2 into v1, Xano will add the new API endpoints from v2 and maintain the update to the API endpoint on the destination v1 Branch.

### How to Merge

To merge Branches open the Branches menu by selecting the Branch name under the Workspace name in the left-hand navigation bar.

<Frame caption="">
  <img src="/images/c892bab5-image.jpeg" />
</Frame>

Next, select **Merge Branches**.

<Frame caption="Select Merge Branches.">
  <img src="/images/38da8752-image.jpeg" />
</Frame>

After selecting Merge Branches, Xano will ask you to select the source Branch.

<Info>
**The Source Branch is the Branch containing the updates and modifications** that you want to merge into the Destination Branch.

</Info>

<Frame caption="Choose the Source Branch - the Branch with new changes or updates.">
  <img src="/images/268de66f-image.jpeg" />
</Frame>

Next, select the Destination Branch to merge the changes from the Source Branch. You can also choose if you would like the destination branch to be backed up prior to the merge.

<Info>
**The Destination Branch is the Branch where the updates will be merged into.**

</Info>

<Frame caption="Select the Destination branch, and if you want the destination branch backed up before the merge">
  <img src="/images/235f7704-image.jpeg" />
</Frame>

Then, Xano will display a confirmation page with all the Workspace objects receiving updates or new items.

<Frame caption="">
  <img src="/images/8637d4e6-image.jpeg" />
</Frame>

If there is a change you do not want to include in the merge, select the settings icon next to the Workspace object and deselect the change to remove it from the merge.

<Frame caption="Edit what's included in the merge.">
  <img src="/images/b6abddd3-image.jpeg" />
</Frame>

<Frame caption="Deselect specific changes to remove from the merge.">
  <img src="/images/06ad3245-image.jpeg" />
</Frame>

Once satisfied with all the updates included in the merge select **publish** to merge the Branches.

<Frame caption="Select Publish to merge the Branches.">
  <img src="/images/b53cc706-image.jpeg" />
</Frame>

## Dealing with Merge Conflicts

<Steps>
<Step title="Compare the differences between the branches to see where the conflict lies">

Learn more about comparing branches [here](/team-collaboration/branching-and-merging#compare-differences-compare-branches).

</Step>
<Step title="If you receive a merge conflict notice but there is no apparent conflict, you might have a function stack with the same name, but a different GUID.">

<Warning>
**If you aren't sure updating the GUID is necessary in your situation, please reach out to support before proceeding.**

</Warning>

Head to the settings of the function stack and choose **Security**.

<Frame caption="">
  <img src="/images/b74ed6da-image.jpeg" />
</Frame>

You can update the GUID in the **destination branch **to match the function stack of the same name from the **source branch**

<Frame caption="">
  <img src="/images/82cf8f12-image.jpeg" />
</Frame>

</Step>
</Steps>

## Workspace Triggers

From your workspace settings, you have the option to enable triggers based on certain events.

* Branch Live - Any time a branch status is set to live

* Branch Merge - When a branch is merged

* Branch New - When a new branch is created

From your Dashboard, access the menu from the top-right corner, and choose Triggers.

<Frame caption="">
  <img src="/images/08191502-image.jpeg" />
</Frame>

Choose 'Add Workspace Trigger' and provide the requested information. In the example below, we are creating a trigger called My Workspace Trigger that will run anytime a branch merge takes place, or a new branch is created.

<Frame caption="">
  <img src="/images/937118e5-image.jpeg" />
</Frame>

Your Workspace Trigger will have three inputs defined. Inputs for triggers can not be modified.

* to\_branch - Information regarding the destination branch

* from\_branch - Information regarding the source branch

* action - The action taking place

Now that your trigger is set up, you can build a function stack that will run every time one of the actions selected takes place.

## Restoring a Branch Backup

<Frame>
<iframe width="1000" height="500" src="https://www.youtube.com/embed/AbXCEq4U_VY" title="Branch Merge Update | Backup and Roll Back" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</Frame>

If after you have merged branches, you would like to restore from a backed up branch, click on the branches option, and check the "Include Backups" checkbox. This will show you all available backups, which you can then click and edit or set live just like any other branches. Setting live the backed up branch will allow you to quickly roll back to before the merge was made.

<Frame caption="Use the Include Backups option to show backups made during branch merge.">
  <img src="/images/8c425bd8-image.jpeg" />
</Frame>


